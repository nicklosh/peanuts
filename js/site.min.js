$(document).ready(function(){function i(e,t){$(e).waypoint(function(e){if(e=="down"){$("a").removeClass();$(t).addClass("onThis")}},{offset:"bottom-in-view"});$(e).waypoint(function(e){if(e=="up"){$("a").removeClass();$(t).addClass("onThis")}},{offset:-1})}function a(){var e=$(window).scrollTop(),n=e-t,r=e-t*2,i=e-t*3;if(e<t){$("#cloud-small").css("bottom",0+e*.1+"%");$("#cloud-med").css("bottom",0+e*.2+"%");$("#cloud-big").css("bottom",0+e*.4+"%")}if(e<t*2){$("#frame1-ball").css({"background-position":100+n/10+"% "+(0-n/20)+"%"})}if(e>t&e<t*3){$("#frame2-woodstock").css({"background-position":60+r/10+"% 70%"})}if(e>t){$("#frame3-ball").css({"background-position":75+i/3+"% "+(120+i/2)+"%"});$("#frame3-ball-rotate").css({"background-position":80+i/10+"% "+(60-i/2)+"%"})}}var e=$(window).width(),t=$(window).height()-16,n=t*1.5;if(n>e){n=e-16,t=e/1.5,r="bottom-in-view";$(".panel").height(t);$("body").width(n)}else{var r=t/3;$(".panel").height(t);$("body").width(n)}$('a[href^="#"]').on("click",function(e){e.preventDefault();var t=this.hash,n=$(t);$("html, body").stop().animate({scrollTop:n.offset().top},1500,"swing",function(){window.location.hash=t})});var s=$(".panel");for(var o=s.length-1;o>=0;o--){var u='a[href="#panel'+o+'"]';i(s[o],u)}$("#panel3").waypoint(function(e){if(e=="down"){$("#frame3-bonk").animate({opacity:"1",height:"100%"},200);$("#frame3-ball-rotate").animate({opacity:"1"},100);$("#frame3-ball").animate({opacity:"0"},100)}else{$("#frame3-bonk").animate({opacity:"0",height:"0%"},200);$("#frame3-ball-rotate").animate({opacity:"0"},100);$("#frame3-ball").animate({opacity:"1"},100)}},{offset:"10%"});$("#panel4").waypoint(function(e){if(e=="down"){$("#bg4-3").animate({height:"60%"},500)}else{$("#bg4-3").animate({height:"0%"},500)}},{offset:r});$(window).bind("scroll",function(e){a()})})